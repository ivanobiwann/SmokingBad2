<!-- Нижнее меню -->
    <nav class="bottom-menu" id="bottomMenu">
        <div class="menu-item" onclick="showTab('home')">
            <div class="menu-icon">
                <img src="https://img.icons8.com/ios-filled/50/home.png" alt="Главная">
            </div>
            Главная
        </div>
        <div class="menu-item" onclick="showTab('ranking')">
            <div class="menu-icon">
                <img src="https://img.icons8.com/ios-filled/50/trophy.png" alt="Рейтинг">
            </div>
            Рейтинг
        </div>
        <div class="menu-item" onclick="showTab('rewards')">
            <div class="menu-icon">
                <img src="https://img.icons8.com/ios-filled/50/medal.png" alt="Награды">
            </div>
            Награды
        </div>
        <div class="menu-item" onclick="showTab('friends')">
            <div class="menu-icon">
                <img src="https://img.icons8.com/?size=100&id=0Zv7j2328VJP&format=png&color=000000" alt="Друзья">
            </div>
            Друзья
        </div>
        <div class="menu-item" onclick="showTab('profile')">
            <div class="menu-icon">
                <img src="https://img.icons8.com/ios-filled/50/user.png" alt="Профиль">
            </div>
            Профиль
        </div>
    </nav>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        const user = tg.initDataUnsafe?.user || { first_name: "Пользователь" };
        document.getElementById('userGreeting').innerText = `Привет, ${user.first_name}!`;

        // Скрываем вкладку приветствия через 2 секунды и показываем главную вкладку
        setTimeout(() => {
            document.getElementById('greetingContent').style.display = 'none'; // Скрываем приветствие
            document.getElementById('homeContent').style.display = 'block';   // Показываем основное содержимое
            document.getElementById('bottomMenu').style.display = 'flex';      // Показываем нижнее меню
        }, 2000); // Задержка 2 секунды для приветствия

        const counterElement = document.getElementById('checkin-count');
        let checkinData = JSON.parse(localStorage.getItem('checkinData')) || {};
        const userId = user.id || "default_user";
        const today = new Date().toISOString().split('T')[0];

        if (!checkinData[userId]) {
            checkinData[userId] = { count: 0, lastCheckin: null };
        }
        const userCheckin = checkinData[userId];

        function updateCounter() {
            counterElement.classList.remove('active');
            setTimeout(() => {
                counterElement.innerText = userCheckin.count;
                counterElement.classList.add('active');
            }, 200);
        }
        updateCounter();

        document.getElementById('checkin').onclick = () => {
            if (userCheckin.lastCheckin !== today) {
                userCheckin.count++;
                userCheckin.lastCheckin = today;
                checkinData[userId] = userCheckin;
                localStorage.setItem('checkinData', JSON.stringify(checkinData));
                updateCounter();
                alert("Чек-ин выполнен!");
            } else {
                alert("Вы уже сделали чек-ин сегодня.");
            }
        };

        // Функция переключения вкладок
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(`${tabName}Content`).classList.add('active');
        }
    </script>
</body>
</html>